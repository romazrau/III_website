<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>File Object</title>
    <style>
      #zone1 {
        width: 600px;
        height: 150px;
        border: 1px solid green;
        margin: 10px;
        overflow: auto;
      }
      #zone1 > img{
        height: 100px;
        margin: 10px;
        box-shadow: 3px 2px 4px silver;
   
      }
      .thumb {
        height: 100px;
        margin: 10px;
        box-shadow: 3px 2px 4px silver;
      }
    </style>
  </head>
  <body>
    <input type="file" id="file1" multiple />
    <div id="zone1"></div>
 <script>
   //產生FileObject有兩種方法
   //第一種使用檔案選取元件
   document.querySelector("#file1").addEventListener("change", function() {
     [...this.files].map((ele, i)=>{
       fileInfo(ele);
     })
     
   });

    //第二種從檔案總管拖曳進來的檔案
    var theZone = document.querySelector("#zone1");
   theZone.addEventListener("dragover", function(event) {
     event.preventDefault();
   });
   theZone.addEventListener("drop", function(event) {
     event.preventDefault();
     event.stopPropagation();

     [...event.dataTransfer.files].map((ele, i)=>{
       fileInfo(ele);
     })
   });

   function fileInfo(theFile) {
     //讀取圖片內容
     console.log(theFile.name);

     let reader = new FileReader();
     reader.addEventListener("load", (event)=>{
       let img = document.createElement('img');
       img.setAttribute("src", event.target.result);
       theZone.appendChild(img);
     })

     reader.readAsDataURL(theFile);
     
   }   
 </script>
  </body>
</html>
