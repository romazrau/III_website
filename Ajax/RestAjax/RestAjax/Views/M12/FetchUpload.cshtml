@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>fetch upload</title>
</head>
<body>
    UploadFile: <input id="inputImg" type="file" />
    <button id="btnUpload">upload</button>
    <script>
        function doUpload(img) {
            const formdata = new FormData();
            formdata.append('photo', img);  // event.target.files[0]


            fetch('/M12/UploadOneFile', {
                method: 'POST',
                body: formdata
            }).then(function(response) {
                return response.json();
            }).then(function(data) {
                document.write(data.msg);
            });
        }

        document.querySelector("#btnUpload").addEventListener(
            "click",
            () => {
                let img = document.querySelector("#inputImg").files[0];
                doUpload(img);
            }
        )
    </script>
</body>
</html>